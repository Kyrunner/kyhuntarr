<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Preload theme script to prevent flashing -->
<script src="/static/js/theme-preload.js"></script>
<link rel="stylesheet" href="/static/css/new-style.css">
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="/static/css/apps-double-scroll-fix.css">
<link rel="stylesheet" href="/static/css/responsive-fix.css">
<!-- KYHUNTARR brand overrides - must be last to win specificity -->
<link rel="stylesheet" href="/static/css/variables.css">
<style>
    /* Hide sponsors section and nav - upstream project abandoned */
    #sponsorsSection, #sponsorsNav { display: none !important; }

    /* === KYHUNTARR purple accent overrides === */

    /* --- Navigation --- */
    .nav-item.active {
        background: linear-gradient(to right, rgba(155, 89, 182, 0.9), rgba(155, 89, 182, 0.7)) !important;
        box-shadow: 0 2px 10px rgba(155, 89, 182, 0.3) !important;
    }
    .nav-item.active .nav-icon-wrapper {
        background: rgba(255, 255, 255, 0.15) !important;
    }
    .nav-item:hover {
        background: rgba(155, 89, 182, 0.15) !important;
    }
    .nav-item:hover .nav-icon-wrapper {
        background: rgba(155, 89, 182, 0.2) !important;
    }
    .nav-item:hover::before {
        background: linear-gradient(to bottom, rgba(155, 89, 182, 0.4), rgba(187, 134, 252, 0.4)) !important;
    }
    .nav-group-title {
        color: rgba(187, 134, 252, 0.8) !important;
        border-bottom-color: rgba(155, 89, 182, 0.2) !important;
        text-shadow: 0 0 10px rgba(155, 89, 182, 0.3) !important;
    }
    @keyframes glowPulse {
        from { box-shadow: 0 0 8px 2px rgba(155, 89, 182, 0.5); }
        to   { box-shadow: 0 0 15px 4px rgba(155, 89, 182, 0.7); }
    }

    /* --- Gradient accent lines (topbar, sidebar, cards) --- */
    .top-color-line,
    .sidebar-top-line {
        background: linear-gradient(90deg, rgba(155, 89, 182, 0.6), rgba(187, 134, 252, 0.6)) !important;
        box-shadow: 0 0 8px rgba(155, 89, 182, 0.4) !important;
    }
    .top-bar::before,
    .top-bar::after,
    .sidebar::after,
    .sidebar::before {
        background: linear-gradient(to bottom, rgba(155, 89, 182, 0.6), rgba(187, 134, 252, 0.6)) !important;
    }
    .card::before {
        background: linear-gradient(90deg, rgba(155, 89, 182, 0.3), rgba(187, 134, 252, 0.3)) !important;
    }

    /* --- Version bar --- */
    .version-bar a, .version-icon {
        color: #bb86fc !important;
    }
    .version-bar a:hover {
        color: #d4a5ff !important;
    }
    .version-bar a::after {
        background-color: #bb86fc !important;
    }

    /* --- Logo glow --- */
    .logo, .login-logo {
        animation: logo-glow-purple 10s infinite ease-in-out !important;
    }
    @keyframes logo-glow-purple {
        0%   { box-shadow: 0 0 15px #9b59b6, 0 0 5px rgba(155, 89, 182, 0.4); }
        25%  { box-shadow: 0 0 15px #bb86fc, 0 0 5px rgba(187, 134, 252, 0.4); }
        50%  { box-shadow: 0 0 15px #7b3f96, 0 0 5px rgba(123, 63, 150, 0.4); }
        75%  { box-shadow: 0 0 15px #bb86fc, 0 0 5px rgba(187, 134, 252, 0.4); }
        100% { box-shadow: 0 0 15px #9b59b6, 0 0 5px rgba(155, 89, 182, 0.4); }
    }
    .logo i, .login-logo i {
        filter: drop-shadow(0 0 4px rgba(155, 89, 182, 0.5)) !important;
    }

    /* --- Buttons (schedule, save, action, login, setup) --- */
    .schedule-button,
    #addScheduleButton,
    #saveSchedulesButton,
    button.save-button,
    button.action-button {
        background-color: #9b59b6 !important;
    }
    .schedule-button:hover,
    #addScheduleButton:hover,
    #saveSchedulesButton:hover,
    button.save-button:hover,
    button.action-button:hover {
        background-color: #7b3f96 !important;
    }
    .login-button,
    .next-button,
    .submit-button,
    .step.active {
        background: linear-gradient(135deg, #9b59b6 0%, #a56ec0 100%) !important;
        box-shadow: 0 4px 10px rgba(155, 89, 182, 0.3) !important;
    }
    .login-button:hover,
    .next-button:hover,
    .submit-button:hover,
    .step.active:hover {
        background: linear-gradient(135deg, #a56ec0 0%, #bb86fc 100%) !important;
        box-shadow: 0 6px 15px rgba(155, 89, 182, 0.4) !important;
    }

    /* --- Test connection button --- */
    .test-connection-btn {
        background: linear-gradient(145deg, rgba(155, 89, 182, 0.2), rgba(155, 89, 182, 0.15)) !important;
        color: rgba(187, 134, 252, 0.9) !important;
        border: 1px solid rgba(155, 89, 182, 0.3) !important;
    }
    .test-connection-btn:hover {
        background: linear-gradient(145deg, rgba(155, 89, 182, 0.3), rgba(155, 89, 182, 0.25)) !important;
        color: rgba(187, 134, 252, 1) !important;
    }

    /* --- Toggle switches --- */
    input:checked + .toggle-slider {
        background: linear-gradient(145deg, rgba(123, 63, 150, 0.7), rgba(155, 89, 182, 0.8)) !important;
    }

    /* --- Form controls & settings inputs --- */
    .form-group input:focus,
    .setting-item input[type="text"]:focus,
    .setting-item input[type="number"]:focus,
    .setting-item input[type="password"]:focus,
    .setting-item select:focus {
        border-color: rgba(155, 89, 182, 0.5) !important;
        box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.15), 0 1px 0 rgba(255, 255, 255, 0.1) inset !important;
    }
    .form-group label i {
        color: rgba(155, 89, 182, 0.9) !important;
    }
    .scheduler-panel .form-control,
    #schedulingSection .form-control,
    #schedulingPage .form-control {
        border-color: rgba(155, 89, 182, 0.3) !important;
    }
    .scheduler-panel .form-control:focus,
    #schedulingSection .form-control:focus,
    #schedulingPage .form-control:focus {
        border-color: rgba(155, 89, 182, 0.8) !important;
        box-shadow: 0 0 0 2px rgba(155, 89, 182, 0.2) !important;
    }

    /* --- Checkboxes --- */
    .day-checkbox input[type='checkbox'] {
        border-color: rgba(155, 89, 182, 0.3) !important;
    }
    .day-checkbox input[type='checkbox']:checked {
        background-color: #9b59b6 !important;
        border-color: #9b59b6 !important;
    }

    /* --- Instance header icon --- */
    .instance-header h4::before {
        color: rgba(155, 89, 182, 0.8) !important;
    }

    /* --- Settings-group section headers --- */
    .settings-group h3 {
        background: linear-gradient(to right, rgba(155, 89, 182, 0.8), rgba(123, 63, 150, 0.7)) !important;
        border-left: 4px solid rgba(155, 89, 182, 0.9) !important;
    }

    /* --- Card & settings-group accent lines --- */
    .card h2 i, .card h3 i {
        color: #bb86fc !important;
    }
    .card::before,
    #appsSection .settings-group::before {
        background: linear-gradient(90deg, rgba(155, 89, 182, 0.3), rgba(187, 134, 252, 0.3)) !important;
    }

    /* --- Info icons --- */
    .setting-item label .info-icon {
        color: rgba(155, 89, 182, 0.8) !important;
    }
    .setting-item label .info-icon:hover {
        color: rgba(155, 89, 182, 1) !important;
    }

    /* --- Select focus --- */
    .setting-item select:focus {
        border-color: rgba(155, 89, 182, 0.5) !important;
        box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.15), 0 1px 0 rgba(255, 255, 255, 0.1) inset !important;
    }

    /* --- Color-shift divider --- */
    .color-shift-divider {
        background: linear-gradient(to right, #9b59b6, #bb86fc, #7b3f96, #bb86fc, #9b59b6) !important;
    }

    /* --- Date values --- */
    .date-value {
        background-color: rgba(155, 89, 182, 0.1) !important;
        color: #bb86fc !important;
    }

    /* --- Styled select dropdown glow --- */
    @keyframes glowing-ring {
        0%   { box-shadow: 0 0 15px #9b59b6, 0 0 5px rgba(155, 89, 182, 0.4); }
        25%  { box-shadow: 0 0 15px #bb86fc, 0 0 5px rgba(187, 134, 252, 0.4); }
        50%  { box-shadow: 0 0 15px #7b3f96, 0 0 5px rgba(123, 63, 150, 0.4); }
        75%  { box-shadow: 0 0 15px #bb86fc, 0 0 5px rgba(187, 134, 252, 0.4); }
        100% { box-shadow: 0 0 15px #9b59b6, 0 0 5px rgba(155, 89, 182, 0.4); }
    }
    @keyframes glowing-ring-hover {
        0%   { box-shadow: 0 0 20px #9b59b6, 0 0 10px rgba(155, 89, 182, 0.6); }
        25%  { box-shadow: 0 0 20px #bb86fc, 0 0 10px rgba(187, 134, 252, 0.6); }
        50%  { box-shadow: 0 0 20px #7b3f96, 0 0 10px rgba(123, 63, 150, 0.6); }
        75%  { box-shadow: 0 0 20px #bb86fc, 0 0 10px rgba(187, 134, 252, 0.6); }
        100% { box-shadow: 0 0 20px #9b59b6, 0 0 10px rgba(155, 89, 182, 0.6); }
    }

    /* --- Scrollbar --- */
    ::-webkit-scrollbar-thumb {
        background: rgba(155, 89, 182, 0.4) !important;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: rgba(155, 89, 182, 0.6) !important;
    }
</style>

<!-- Favicon: purple shield with KY -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><path d='M50 5 L90 20 L90 55 C90 75 70 92 50 98 C30 92 10 75 10 55 L10 20 Z' fill='%239b59b6'/><text x='50' y='62' text-anchor='middle' font-family='Arial,sans-serif' font-weight='bold' font-size='32' fill='white'>KY</text></svg>" type="image/svg+xml">
